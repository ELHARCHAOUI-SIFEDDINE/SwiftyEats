"use strict";var De=Object.create;var j=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,Se=Object.prototype.hasOwnProperty;var he=(e,n)=>{for(var s in n)j(e,s,{get:n[s],enumerable:!0})},_=(e,n,s,T)=>{if(n&&typeof n=="object"||typeof n=="function")for(let d of me(n))!Se.call(e,d)&&d!==s&&j(e,d,{get:()=>n[d],enumerable:!(T=xe(n,d))||T.enumerable});return e},O=(e,n,s)=>(_(e,n,"default"),s&&_(s,n,"default")),Be=(e,n,s)=>(s=e!=null?De(Ae(e)):{},_(n||!e||!e.__esModule?j(s,"default",{value:e,enumerable:!0}):s,e)),Ee=e=>_(j({},"__esModule",{value:!0}),e);var P={};he(P,{ApiProvider:()=>Re,UNINITIALIZED_VALUE:()=>v,createApi:()=>Ne,reactHooksModule:()=>ue,reactHooksModuleName:()=>oe});module.exports=Ee(P);var ee=require("@reduxjs/toolkit/query");var Je=require("@reduxjs/toolkit"),F=require("react-redux"),le=require("reselect");function ae(e){return e.type==="query"}function ye(e){return e.type==="mutation"}function C(e,...n){return Object.assign(e,...n)}function W(e){return e.replace(e[0],e[0].toUpperCase())}var a=require("@reduxjs/toolkit");var ce=require("@reduxjs/toolkit"),w=require("@reduxjs/toolkit/query"),t=require("react"),Z=require("react-redux");var pe=WeakMap?new WeakMap:void 0,de=({endpointName:e,queryArgs:n})=>{let s="",T=pe?.get(n);if(typeof T=="string")s=T;else{let d=JSON.stringify(n,(A,g)=>(g=typeof g=="bigint"?{$bigint:g.toString()}:g,g=(0,a.isPlainObject)(g)?Object.keys(g).sort().reduce((E,b)=>(E[b]=g[b],E),{}):g,g));(0,a.isPlainObject)(n)&&pe?.set(n,d),s=d}return`${e}(${s})`};var v=Symbol();var z=require("react");function ie(e,n,s,T){let d=(0,z.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?n({queryArgs:e,endpointDefinition:s,endpointName:T}):e}),[e,n,s,T]),A=(0,z.useRef)(d);return(0,z.useEffect)(()=>{A.current.serialized!==d.serialized&&(A.current=d)},[d]),A.current.serialized===d.serialized?A.current.queryArgs:e}var $=require("react"),se=require("react-redux");function G(e){let n=(0,$.useRef)(e);return(0,$.useEffect)(()=>{(0,se.shallowEqual)(n.current,e)||(n.current=e)},[e]),(0,se.shallowEqual)(n.current,e)?n.current:e}var be=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Me=be(),Ue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ke=Ue(),Pe=()=>Me||ke?t.useLayoutEffect:t.useEffect,Oe=Pe(),Fe=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:w.QueryStatus.pending}:e;function fe({api:e,moduleOptions:{batch:n,hooks:{useDispatch:s,useSelector:T,useStore:d},unstable__sideEffectsInRender:A,createSelector:g},serializeQueryArgs:E,context:b}){let N=A?r=>r():t.useEffect;return{buildQueryHooks:k,buildMutationHook:q,usePrefetch:ne};function te(r,y,f){if(y?.endpointName&&r.isUninitialized){let{endpointName:p}=y,x=b.endpointDefinitions[p];E({queryArgs:y.originalArgs,endpointDefinition:x,endpointName:p})===E({queryArgs:f,endpointDefinition:x,endpointName:p})&&(y=void 0)}let D=r.isSuccess?r.data:y?.data;D===void 0&&(D=r.data);let u=D!==void 0,o=r.isLoading,i=(!y||y.isLoading||y.isUninitialized)&&!u&&o,c=r.isSuccess||o&&u;return{...r,data:D,currentData:r.data,isFetching:o,isLoading:i,isSuccess:c}}function ne(r,y){let f=s(),D=G(y);return(0,t.useCallback)((u,o)=>f(e.util.prefetch(r,u,{...D,...o})),[r,f,D])}function k(r){let y=(u,{refetchOnReconnect:o,refetchOnFocus:i,refetchOnMountOrArgChange:c,skip:p=!1,pollingInterval:x=0,skipPollingIfUnfocused:l=!1}={})=>{let{initiate:M}=e.endpoints[r],Q=s(),R=(0,t.useRef)(void 0);if(!R.current){let U=Q(e.internalActions.internal_getRTKQSubscriptions());R.current=U}let h=ie(p?w.skipToken:u,de,b.endpointDefinitions[r],r),m=G({refetchOnReconnect:o,refetchOnFocus:i,pollingInterval:x,skipPollingIfUnfocused:l}),B=(0,t.useRef)(!1),S=(0,t.useRef)(void 0),{queryCacheKey:L,requestId:K}=S.current||{},H=!1;L&&K&&(H=R.current.isRequestSubscribed(L,K));let I=!H&&B.current;return N(()=>{B.current=H}),N(()=>{I&&(S.current=void 0)},[I]),N(()=>{let U=S.current;if(typeof process<"u",h===w.skipToken){U?.unsubscribe(),S.current=void 0;return}let re=S.current?.subscriptionOptions;if(!U||U.arg!==h){U?.unsubscribe();let V=Q(M(h,{subscriptionOptions:m,forceRefetch:c}));S.current=V}else m!==re&&U.updateSubscriptionOptions(m)},[Q,M,c,h,m,I]),(0,t.useEffect)(()=>()=>{S.current?.unsubscribe(),S.current=void 0},[]),(0,t.useMemo)(()=>({refetch:()=>{if(!S.current)throw new Error((0,ce.formatProdErrorMessage)(38));return S.current?.refetch()}}),[])},f=({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i=0,skipPollingIfUnfocused:c=!1}={})=>{let{initiate:p}=e.endpoints[r],x=s(),[l,M]=(0,t.useState)(v),Q=(0,t.useRef)(void 0),R=G({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i,skipPollingIfUnfocused:c});N(()=>{let B=Q.current?.subscriptionOptions;R!==B&&Q.current?.updateSubscriptionOptions(R)},[R]);let h=(0,t.useRef)(R);N(()=>{h.current=R},[R]);let m=(0,t.useCallback)(function(B,S=!1){let L;return n(()=>{Q.current?.unsubscribe(),Q.current=L=x(p(B,{subscriptionOptions:h.current,forceRefetch:!S})),M(B)}),L},[x,p]);return(0,t.useEffect)(()=>()=>{Q?.current?.unsubscribe()},[]),(0,t.useEffect)(()=>{l!==v&&!Q.current&&m(l,!0)},[l,m]),(0,t.useMemo)(()=>[m,l],[m,l])},D=(u,{skip:o=!1,selectFromResult:i}={})=>{let{select:c}=e.endpoints[r],p=ie(o?w.skipToken:u,E,b.endpointDefinitions[r],r),x=(0,t.useRef)(void 0),l=(0,t.useMemo)(()=>g([c(p),(m,B)=>B,m=>p],te,{memoizeOptions:{resultEqualityCheck:Z.shallowEqual}}),[c,p]),M=(0,t.useMemo)(()=>i?g([l],i,{devModeChecks:{identityFunctionCheck:"never"}}):l,[l,i]),Q=T(m=>M(m,x.current),Z.shallowEqual),R=d(),h=l(R.getState(),x.current);return Oe(()=>{x.current=h},[h]),Q};return{useQueryState:D,useQuerySubscription:y,useLazyQuerySubscription:f,useLazyQuery(u){let[o,i]=f(u),c=D(i,{...u,skip:i===v}),p=(0,t.useMemo)(()=>({lastArg:i}),[i]);return(0,t.useMemo)(()=>[o,c,p],[o,c,p])},useQuery(u,o){let i=y(u,o),c=D(u,{selectFromResult:u===w.skipToken||o?.skip?void 0:Fe,...o}),{data:p,status:x,isLoading:l,isSuccess:M,isError:Q,error:R}=c;return(0,t.useDebugValue)({data:p,status:x,isLoading:l,isSuccess:M,isError:Q,error:R}),(0,t.useMemo)(()=>({...c,...i}),[c,i])}}}function q(r){return({selectFromResult:y,fixedCacheKey:f}={})=>{let{select:D,initiate:u}=e.endpoints[r],o=s(),[i,c]=(0,t.useState)();(0,t.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let p=(0,t.useCallback)(function(re){let V=o(u(re,{fixedCacheKey:f}));return c(V),V},[o,u,f]),{requestId:x}=i||{},l=(0,t.useMemo)(()=>D({fixedCacheKey:f,requestId:i?.requestId}),[f,i,D]),M=(0,t.useMemo)(()=>y?g([l],y):l,[y,l]),Q=T(M,Z.shallowEqual),R=f==null?i?.arg.originalArgs:void 0,h=(0,t.useCallback)(()=>{n(()=>{i&&c(void 0),f&&o(e.internalActions.removeMutationResult({requestId:x,fixedCacheKey:f}))})},[o,f,i,x]),{endpointName:m,data:B,status:S,isLoading:L,isSuccess:K,isError:H,error:I}=Q;(0,t.useDebugValue)({endpointName:m,data:B,status:S,isLoading:L,isSuccess:K,isError:H,error:I});let U=(0,t.useMemo)(()=>({...Q,originalArgs:R,reset:h}),[Q,R,h]);return(0,t.useMemo)(()=>[p,U],[p,U])}}}var oe=Symbol(),ue=({batch:e=F.batch,hooks:n={useDispatch:F.useDispatch,useSelector:F.useSelector,useStore:F.useStore},createSelector:s=le.createSelector,unstable__sideEffectsInRender:T=!1,...d}={})=>({name:oe,init(A,{serializeQueryArgs:g},E){let b=A,{buildQueryHooks:N,buildMutationHook:te,usePrefetch:ne}=fe({api:A,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:T,createSelector:s},serializeQueryArgs:g,context:E});return C(b,{usePrefetch:ne}),C(E,{batch:e}),{injectEndpoint(k,q){if(ae(q)){let{useQuery:r,useLazyQuery:y,useLazyQuerySubscription:f,useQueryState:D,useQuerySubscription:u}=N(k);C(b.endpoints[k],{useQuery:r,useLazyQuery:y,useLazyQuerySubscription:f,useQueryState:D,useQuerySubscription:u}),A[`use${W(k)}Query`]=r,A[`useLazy${W(k)}Query`]=y}else if(ye(q)){let r=te(k);C(b.endpoints[k],{useMutation:r}),A[`use${W(k)}Mutation`]=r}}}}});O(P,require("@reduxjs/toolkit/query"),module.exports);var J=require("@reduxjs/toolkit"),Qe=require("react"),Te=require("react"),Y=Be(require("react")),X=require("react-redux"),ge=require("@reduxjs/toolkit/query");function Re(e){let n=e.context||X.ReactReduxContext;if((0,Qe.useContext)(n))throw new Error((0,J.formatProdErrorMessage)(35));let[T]=Y.useState(()=>(0,J.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:d=>d().concat(e.api.middleware)}));return(0,Te.useEffect)(()=>e.setupListeners===!1?void 0:(0,ge.setupListeners)(T.dispatch,e.setupListeners),[e.setupListeners,T.dispatch]),Y.createElement(X.Provider,{store:T,context:n},e.children)}var Ne=(0,ee.buildCreateApi)((0,ee.coreModule)(),ue());0&&(module.exports={ApiProvider,UNINITIALIZED_VALUE,createApi,reactHooksModule,reactHooksModuleName,...require("@reduxjs/toolkit/query")});
//# sourceMappingURL=rtk-query-react.production.min.cjs.map