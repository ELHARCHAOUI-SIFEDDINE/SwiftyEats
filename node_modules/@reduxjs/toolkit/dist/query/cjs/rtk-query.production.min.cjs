"use strict";var ce=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor;var at=Object.getOwnPropertyNames;var st=Object.prototype.hasOwnProperty;var ut=(e,r)=>{for(var c in r)ce(e,c,{get:r[c],enumerable:!0})},yt=(e,r,c,T)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of at(r))!st.call(e,d)&&d!==c&&ce(e,d,{get:()=>r[d],enumerable:!(T=ot(r,d))||T.enumerable});return e};var dt=e=>yt(ce({},"__esModule",{value:!0}),e);var St={};ut(St,{QueryStatus:()=>ie,_NEVER:()=>_e,buildCreateApi:()=>de,copyWithStructuralSharing:()=>G,coreModule:()=>pe,coreModuleName:()=>re,createApi:()=>it,defaultSerializeQueryArgs:()=>ne,fakeBaseQuery:()=>ze,fetchBaseQuery:()=>be,retry:()=>Me,setupListeners:()=>ke,skipToken:()=>te});module.exports=dt(St);var ie=(d=>(d.uninitialized="uninitialized",d.pending="pending",d.fulfilled="fulfilled",d.rejected="rejected",d))(ie||{});function Te(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var i=require("@reduxjs/toolkit");var he=i.isPlainObject;function G(e,r){if(e===r||!(he(e)&&he(r)||Array.isArray(e)&&Array.isArray(r)))return r;let c=Object.keys(r),T=Object.keys(e),d=c.length===T.length,R=Array.isArray(r)?[]:{};for(let x of c)R[x]=G(e[x],r[x]),d&&(d=e[x]===R[x]);return d?e:R}function j(e){let r=0;for(let c in e)r++;return r}var le=e=>[].concat(...e);function Qe(e){return new RegExp("(^|:)//").test(e)}function Re(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function fe(e){return e!=null}function Se(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var pt=e=>e.replace(/\/$/,""),ct=e=>e.replace(/^\//,"");function xe(e,r){if(!e)return r;if(!r)return e;if(Qe(r))return r;let c=e.endsWith("/")||!r.startsWith("?")?"/":"";return e=pt(e),r=ct(r),`${e}${c}${r}`}var Ae=(...e)=>fetch(...e),lt=e=>e.status>=200&&e.status<=299,ft=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function De(e){if(!(0,i.isPlainObject)(e))return e;let r={...e};for(let[c,T]of Object.entries(r))T===void 0&&delete r[c];return r}function be({baseUrl:e,prepareHeaders:r=l=>l,fetchFn:c=Ae,paramsSerializer:T,isJsonContentType:d=ft,jsonContentType:R="application/json",jsonReplacer:x,timeout:M,responseHandler:k,validateStatus:m,...A}={}){return typeof fetch>"u"&&c===Ae&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(n,t)=>{let{signal:g,getState:S,extra:p,endpoint:y,forced:a,type:s}=t,o,{url:u,headers:h=new Headers(A.headers),params:f=void 0,responseHandler:Q=k??"json",validateStatus:E=m??lt,timeout:D=M,...B}=typeof n=="string"?{url:n}:n,b={...A,signal:g,...B};h=new Headers(De(h)),b.headers=await r(h,{getState:S,extra:p,endpoint:y,forced:a,type:s})||h;let P=C=>typeof C=="object"&&((0,i.isPlainObject)(C)||Array.isArray(C)||typeof C.toJSON=="function");if(!b.headers.has("content-type")&&P(b.body)&&b.headers.set("content-type",R),P(b.body)&&d(b.headers)&&(b.body=JSON.stringify(b.body,x)),f){let C=~u.indexOf("?")?"&":"?",w=T?T(f):new URLSearchParams(De(f));u+=C+w}u=xe(e,u);let v=new Request(u,b);o={request:new Request(u,b)};let O,N=!1,I=D&&setTimeout(()=>{N=!0,t.abort()},D);try{O=await c(v)}catch(C){return{error:{status:N?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(C)},meta:o}}finally{I&&clearTimeout(I)}let K=O.clone();o.response=K;let q,J="";try{let C;if(await Promise.all([l(O,Q).then(w=>q=w,w=>C=w),K.text().then(w=>J=w,()=>{})]),C)throw C}catch(C){return{error:{status:"PARSING_ERROR",originalStatus:O.status,data:J,error:String(C)},meta:o}}return E(O,q)?{data:q,meta:o}:{error:{status:O.status,data:q},meta:o}};async function l(n,t){if(typeof t=="function")return t(n);if(t==="content-type"&&(t=d(n.headers)?"json":"text"),t==="json"){let g=await n.text();return g.length?JSON.parse(g):null}return n.text()}}var U=class{constructor(r,c=void 0){this.value=r;this.meta=c}};async function mt(e=0,r=5){let c=Math.min(e,r),T=~~((Math.random()+.4)*(300<<c));await new Promise(d=>setTimeout(R=>d(R),T))}function gt(e){throw Object.assign(new U({error:e}),{throwImmediately:!0})}var Ee={},Tt=(e,r)=>async(c,T,d)=>{let R=[5,(r||Ee).maxRetries,(d||Ee).maxRetries].filter(A=>A!==void 0),[x]=R.slice(-1),k={maxRetries:x,backoff:mt,retryCondition:(A,l,{attempt:n})=>n<=x,...r,...d},m=0;for(;;)try{let A=await e(c,T,d);if(A.error)throw new U(A);return A}catch(A){if(m++,A.throwImmediately){if(A instanceof U)return A.value;throw A}if(A instanceof U&&!k.retryCondition(A.value.error,c,{attempt:m,baseQueryApi:T,extraOptions:d}))return A.value;await k.backoff(m,k.maxRetries)}},Me=Object.assign(Tt,{fail:gt});var H=(0,i.createAction)("__rtkq/focused"),V=(0,i.createAction)("__rtkq/unfocused"),_=(0,i.createAction)("__rtkq/online"),W=(0,i.createAction)("__rtkq/offline"),me=!1;function ke(e,r){function c(){let T=()=>e(H()),d=()=>e(V()),R=()=>e(_()),x=()=>e(W()),M=()=>{window.document.visibilityState==="visible"?T():d()};return me||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",M,!1),window.addEventListener("focus",T,!1),window.addEventListener("online",R,!1),window.addEventListener("offline",x,!1),me=!0),()=>{window.removeEventListener("focus",T),window.removeEventListener("visibilitychange",M),window.removeEventListener("online",R),window.removeEventListener("offline",x),me=!1}}return r?r(e,{onFocus:H,onFocusLost:V,onOffline:W,onOnline:_}):c()}function ae(e){return e.type==="query"}function Be(e){return e.type==="mutation"}function Y(e,r,c,T,d,R){return ht(e)?e(r,c,T,d).map(oe).map(R):Array.isArray(e)?e.map(oe).map(R):[]}function ht(e){return typeof e=="function"}function oe(e){return typeof e=="string"?{type:e}:e}var se=require("immer");var zt=require("@reduxjs/toolkit");function Pe(e,r){return e.catch(r)}var $=Symbol("forceQueryFn"),X=e=>typeof e[$]=="function";function ve({serializeQueryArgs:e,queryThunk:r,mutationThunk:c,api:T,context:d}){let R=new Map,x=new Map,{unsubscribeQueryResult:M,removeMutationResult:k,updateSubscriptionOptions:m}=T.internalActions;return{buildInitiateQuery:S,buildInitiateMutation:p,getRunningQueryThunk:A,getRunningMutationThunk:l,getRunningQueriesThunk:n,getRunningMutationsThunk:t};function A(y,a){return s=>{let o=d.endpointDefinitions[y],u=e({queryArgs:a,endpointDefinition:o,endpointName:y});return R.get(s)?.[u]}}function l(y,a){return s=>x.get(s)?.[a]}function n(){return y=>Object.values(R.get(y)||{}).filter(fe)}function t(){return y=>Object.values(x.get(y)||{}).filter(fe)}function g(y){}function S(y,a){let s=(o,{subscribe:u=!0,forceRefetch:h,subscriptionOptions:f,[$]:Q,...E}={})=>(D,B)=>{let b=e({queryArgs:o,endpointDefinition:a,endpointName:y}),P=r({...E,type:"query",subscribe:u,forceRefetch:h,subscriptionOptions:f,endpointName:y,originalArgs:o,queryCacheKey:b,[$]:Q}),v=T.endpoints[y].select(o),F=D(P),O=v(B());let{requestId:N,abort:I}=F,K=O.requestId!==N,q=R.get(D)?.[b],J=()=>v(B()),C=Object.assign(Q?F.then(J):K&&!q?Promise.resolve(O):Promise.all([q,F]).then(J),{arg:o,requestId:N,subscriptionOptions:f,queryCacheKey:b,abort:I,async unwrap(){let w=await C;if(w.isError)throw w.error;return w.data},refetch:()=>D(s(o,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&D(M({queryCacheKey:b,requestId:N}))},updateSubscriptionOptions(w){C.subscriptionOptions=w,D(m({endpointName:y,requestId:N,queryCacheKey:b,options:w}))}});if(!q&&!K&&!Q){let w=R.get(D)||{};w[b]=C,R.set(D,w),C.then(()=>{delete w[b],j(w)||R.delete(D)})}return C};return s}function p(y){return(a,{track:s=!0,fixedCacheKey:o}={})=>(u,h)=>{let f=c({type:"mutation",endpointName:y,originalArgs:a,track:s,fixedCacheKey:o}),Q=u(f);let{requestId:E,abort:D,unwrap:B}=Q,b=Pe(Q.unwrap().then(O=>({data:O})),O=>({error:O})),P=()=>{u(k({requestId:E,fixedCacheKey:o}))},v=Object.assign(b,{arg:Q.arg,requestId:E,abort:D,unwrap:B,reset:P}),F=x.get(u)||{};return x.set(u,F),F[E]=v,v.then(()=>{delete F[E],j(F)||x.delete(u)}),o&&(F[o]=v,v.then(()=>{F[o]===v&&(delete F[o],j(F)||x.delete(u))})),v}}}function Ce(e){return e}function we({reducerPath:e,baseQuery:r,context:{endpointDefinitions:c},serializeQueryArgs:T,api:d,assertTagType:R}){let x=(a,s,o,u)=>(h,f)=>{let Q=c[a],E=T({queryArgs:s,endpointDefinition:Q,endpointName:a});if(h(d.internalActions.queryResultPatched({queryCacheKey:E,patches:o})),!u)return;let D=d.endpoints[a].select(s)(f()),B=Y(Q.providesTags,D.data,void 0,s,{},R);h(d.internalActions.updateProvidedBy({queryCacheKey:E,providedTags:B}))},M=(a,s,o,u=!0)=>(h,f)=>{let E=d.endpoints[a].select(s)(f()),D={patches:[],inversePatches:[],undo:()=>h(d.util.patchQueryData(a,s,D.inversePatches,u))};if(E.status==="uninitialized")return D;let B;if("data"in E)if((0,se.isDraftable)(E.data)){let[b,P,v]=(0,se.produceWithPatches)(E.data,o);D.patches.push(...P),D.inversePatches.push(...v),B=b}else B=o(E.data),D.patches.push({op:"replace",path:[],value:B}),D.inversePatches.push({op:"replace",path:[],value:E.data});return D.patches.length===0||h(d.util.patchQueryData(a,s,D.patches,u)),D},k=(a,s,o)=>u=>u(d.endpoints[a].initiate(s,{subscribe:!1,forceRefetch:!0,[$]:()=>({data:o})})),m=async(a,{signal:s,abort:o,rejectWithValue:u,fulfillWithValue:h,dispatch:f,getState:Q,extra:E})=>{let D=c[a.endpointName];try{let B=Ce,b,P={signal:s,abort:o,dispatch:f,getState:Q,extra:E,endpoint:a.endpointName,type:a.type,forced:a.type==="query"?A(a,Q()):void 0},v=a.type==="query"?a[$]:void 0;if(v?b=v():D.query?(b=await r(D.query(a.originalArgs),P,D.extraOptions),D.transformResponse&&(B=D.transformResponse)):b=await D.queryFn(a.originalArgs,P,D.extraOptions,F=>r(F,P,D.extraOptions)),typeof process<"u",b.error)throw new U(b.error,b.meta);return h(await B(b.data,b.meta,a.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:b.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(B){let b=B;if(b instanceof U){let P=Ce;D.query&&D.transformErrorResponse&&(P=D.transformErrorResponse);try{return u(await P(b.value,b.meta,a.originalArgs),{baseQueryMeta:b.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(v){b=v}}throw typeof process<"u",console.error(b),b}};function A(a,s){let o=s[e]?.queries?.[a.queryCacheKey],u=s[e]?.config.refetchOnMountOrArgChange,h=o?.fulfilledTimeStamp,f=a.forceRefetch??(a.subscribe&&u);return f?f===!0||(Number(new Date)-Number(h))/1e3>=f:!1}let l=(0,i.createAsyncThunk)(`${e}/executeQuery`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}},condition(a,{getState:s}){let o=s(),u=o[e]?.queries?.[a.queryCacheKey],h=u?.fulfilledTimeStamp,f=a.originalArgs,Q=u?.originalArgs,E=c[a.endpointName];return X(a)?!0:u?.status==="pending"?!1:A(a,o)||ae(E)&&E?.forceRefetch?.({currentArg:f,previousArg:Q,endpointState:u,state:o})?!0:!h},dispatchConditionRejection:!0}),n=(0,i.createAsyncThunk)(`${e}/executeMutation`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}}}),t=a=>"force"in a,g=a=>"ifOlderThan"in a,S=(a,s,o)=>(u,h)=>{let f=t(o)&&o.force,Q=g(o)&&o.ifOlderThan,E=(B=!0)=>{let b={forceRefetch:B,isPrefetch:!0};return d.endpoints[a].initiate(s,b)},D=d.endpoints[a].select(s)(h());if(f)u(E());else if(Q){let B=D?.fulfilledTimeStamp;if(!B){u(E());return}(Number(new Date)-Number(new Date(B)))/1e3>=Q&&u(E())}else u(E(!1))};function p(a){return s=>s?.meta?.arg?.endpointName===a}function y(a,s){return{matchPending:(0,i.isAllOf)((0,i.isPending)(a),p(s)),matchFulfilled:(0,i.isAllOf)((0,i.isFulfilled)(a),p(s)),matchRejected:(0,i.isAllOf)((0,i.isRejected)(a),p(s))}}return{queryThunk:l,mutationThunk:n,prefetch:S,updateQueryData:M,upsertQueryData:k,patchQueryData:x,buildMatchThunkActions:y}}function ue(e,r,c,T){return Y(c[e.meta.arg.endpointName][r],(0,i.isFulfilled)(e)?e.payload:void 0,(0,i.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,T)}var Ie=require("immer"),ee=require("immer");function ye(e,r,c){let T=e[r];T&&c(T)}function z(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Fe(e,r,c){let T=e[z(r)];T&&c(T)}var Z={};function Oe({reducerPath:e,queryThunk:r,mutationThunk:c,context:{endpointDefinitions:T,apiUid:d,extractRehydrationInfo:R,hasRehydrationInfo:x},assertTagType:M,config:k}){let m=(0,i.createAction)(`${e}/resetApiState`),A=(0,i.createSlice)({name:`${e}/queries`,initialState:Z,reducers:{removeQueryResult:{reducer(s,{payload:{queryCacheKey:o}}){delete s[o]},prepare:(0,i.prepareAutoBatched)()},queryResultPatched:{reducer(s,{payload:{queryCacheKey:o,patches:u}}){ye(s,o,h=>{h.data=(0,ee.applyPatches)(h.data,u.concat())})},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(r.pending,(o,{meta:u,meta:{arg:h}})=>{let f=X(h);o[h.queryCacheKey]??={status:"uninitialized",endpointName:h.endpointName},ye(o,h.queryCacheKey,Q=>{Q.status="pending",Q.requestId=f&&Q.requestId?Q.requestId:u.requestId,h.originalArgs!==void 0&&(Q.originalArgs=h.originalArgs),Q.startedTimeStamp=u.startedTimeStamp})}).addCase(r.fulfilled,(o,{meta:u,payload:h})=>{ye(o,u.arg.queryCacheKey,f=>{if(f.requestId!==u.requestId&&!X(u.arg))return;let{merge:Q}=T[u.arg.endpointName];if(f.status="fulfilled",Q)if(f.data!==void 0){let{fulfilledTimeStamp:E,arg:D,baseQueryMeta:B,requestId:b}=u,P=(0,i.createNextState)(f.data,v=>Q(v,h,{arg:D.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:E,requestId:b}));f.data=P}else f.data=h;else f.data=T[u.arg.endpointName].structuralSharing??!0?G((0,Ie.isDraft)(f.data)?(0,ee.original)(f.data):f.data,h):h;delete f.error,f.fulfilledTimeStamp=u.fulfilledTimeStamp})}).addCase(r.rejected,(o,{meta:{condition:u,arg:h,requestId:f},error:Q,payload:E})=>{ye(o,h.queryCacheKey,D=>{if(!u){if(D.requestId!==f)return;D.status="rejected",D.error=E??Q}})}).addMatcher(x,(o,u)=>{let{queries:h}=R(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&(o[f]=Q)})}}),l=(0,i.createSlice)({name:`${e}/mutations`,initialState:Z,reducers:{removeMutationResult:{reducer(s,{payload:o}){let u=z(o);u in s&&delete s[u]},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(c.pending,(o,{meta:u,meta:{requestId:h,arg:f,startedTimeStamp:Q}})=>{f.track&&(o[z(u)]={requestId:h,status:"pending",endpointName:f.endpointName,startedTimeStamp:Q})}).addCase(c.fulfilled,(o,{payload:u,meta:h})=>{h.arg.track&&Fe(o,h,f=>{f.requestId===h.requestId&&(f.status="fulfilled",f.data=u,f.fulfilledTimeStamp=h.fulfilledTimeStamp)})}).addCase(c.rejected,(o,{payload:u,error:h,meta:f})=>{f.arg.track&&Fe(o,f,Q=>{Q.requestId===f.requestId&&(Q.status="rejected",Q.error=u??h)})}).addMatcher(x,(o,u)=>{let{mutations:h}=R(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&f!==Q?.requestId&&(o[f]=Q)})}}),n=(0,i.createSlice)({name:`${e}/invalidation`,initialState:Z,reducers:{updateProvidedBy:{reducer(s,o){let{queryCacheKey:u,providedTags:h}=o.payload;for(let f of Object.values(s))for(let Q of Object.values(f)){let E=Q.indexOf(u);E!==-1&&Q.splice(E,1)}for(let{type:f,id:Q}of h){let E=(s[f]??={})[Q||"__internal_without_id"]??=[];E.includes(u)||E.push(u)}},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(A.actions.removeQueryResult,(o,{payload:{queryCacheKey:u}})=>{for(let h of Object.values(o))for(let f of Object.values(h)){let Q=f.indexOf(u);Q!==-1&&f.splice(Q,1)}}).addMatcher(x,(o,u)=>{let{provided:h}=R(u);for(let[f,Q]of Object.entries(h))for(let[E,D]of Object.entries(Q)){let B=(o[f]??={})[E||"__internal_without_id"]??=[];for(let b of D)B.includes(b)||B.push(b)}}).addMatcher((0,i.isAnyOf)((0,i.isFulfilled)(r),(0,i.isRejectedWithValue)(r)),(o,u)=>{let h=ue(u,"providesTags",T,M),{queryCacheKey:f}=u.meta.arg;n.caseReducers.updateProvidedBy(o,n.actions.updateProvidedBy({queryCacheKey:f,providedTags:h}))})}}),t=(0,i.createSlice)({name:`${e}/subscriptions`,initialState:Z,reducers:{updateSubscriptionOptions(s,o){},unsubscribeQueryResult(s,o){},internal_getRTKQSubscriptions(){}}}),g=(0,i.createSlice)({name:`${e}/internalSubscriptions`,initialState:Z,reducers:{subscriptionsUpdated:{reducer(s,o){return(0,ee.applyPatches)(s,o.payload)},prepare:(0,i.prepareAutoBatched)()}}}),S=(0,i.createSlice)({name:`${e}/config`,initialState:{online:Se(),focused:Re(),middlewareRegistered:!1,...k},reducers:{middlewareRegistered(s,{payload:o}){s.middlewareRegistered=s.middlewareRegistered==="conflict"||d!==o?"conflict":!0}},extraReducers:s=>{s.addCase(_,o=>{o.online=!0}).addCase(W,o=>{o.online=!1}).addCase(H,o=>{o.focused=!0}).addCase(V,o=>{o.focused=!1}).addMatcher(x,o=>({...o}))}}),p=(0,i.combineReducers)({queries:A.reducer,mutations:l.reducer,provided:n.reducer,subscriptions:g.reducer,config:S.reducer}),y=(s,o)=>p(m.match(o)?void 0:s,o),a={...S.actions,...A.actions,...t.actions,...g.actions,...l.actions,...n.actions,resetApiState:m};return{reducer:y,actions:a}}var te=Symbol.for("RTKQ/skipToken"),Ke={status:"uninitialized"},qe=(0,i.createNextState)(Ke,()=>{}),Ne=(0,i.createNextState)(Ke,()=>{});function je({serializeQueryArgs:e,reducerPath:r,createSelector:c}){let T=l=>qe,d=l=>Ne;return{buildQuerySelector:M,buildMutationSelector:k,selectInvalidatedBy:m,selectCachedArgsForQuery:A};function R(l){return{...l,...Te(l.status)}}function x(l){return l[r]}function M(l,n){return t=>{let g=e({queryArgs:t,endpointDefinition:n,endpointName:l});return c(t===te?T:y=>x(y)?.queries?.[g]??qe,R)}}function k(){return l=>{let n;return typeof l=="object"?n=z(l)??te:n=l,c(n===te?d:S=>x(S)?.mutations?.[n]??Ne,R)}}function m(l,n){let t=l[r],g=new Set;for(let S of n.map(oe)){let p=t.provided[S.type];if(!p)continue;let y=(S.id!==void 0?p[S.id]:le(Object.values(p)))??[];for(let a of y)g.add(a)}return le(Array.from(g.values()).map(S=>{let p=t.queries[S];return p?[{queryCacheKey:S,endpointName:p.endpointName,originalArgs:p.originalArgs}]:[]}))}function A(l,n){return Object.values(l[r].queries).filter(t=>t?.endpointName===n&&t.status!=="uninitialized").map(t=>t.originalArgs)}}var Le=require("@reduxjs/toolkit");var Ue=WeakMap?new WeakMap:void 0,ne=({endpointName:e,queryArgs:r})=>{let c="",T=Ue?.get(r);if(typeof T=="string")c=T;else{let d=JSON.stringify(r,(R,x)=>(x=typeof x=="bigint"?{$bigint:x.toString()}:x,x=(0,i.isPlainObject)(x)?Object.keys(x).sort().reduce((M,k)=>(M[k]=x[k],M),{}):x,x));(0,i.isPlainObject)(r)&&Ue?.set(r,d),c=d}return`${e}(${c})`};var ge=require("reselect");function de(...e){return function(c){let T=(0,ge.weakMapMemoize)(m=>c.extractRehydrationInfo?.(m,{reducerPath:c.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...c,extractRehydrationInfo:T,serializeQueryArgs(m){let A=ne;if("serializeQueryArgs"in m.endpointDefinition){let l=m.endpointDefinition.serializeQueryArgs;A=n=>{let t=l(n);return typeof t=="string"?t:ne({...n,queryArgs:t})}}else c.serializeQueryArgs&&(A=c.serializeQueryArgs);return A(m)},tagTypes:[...c.tagTypes||[]]},R={endpointDefinitions:{},batch(m){m()},apiUid:(0,i.nanoid)(),extractRehydrationInfo:T,hasRehydrationInfo:(0,ge.weakMapMemoize)(m=>T(m)!=null)},x={injectEndpoints:k,enhanceEndpoints({addTagTypes:m,endpoints:A}){if(m)for(let l of m)d.tagTypes.includes(l)||d.tagTypes.push(l);if(A)for(let[l,n]of Object.entries(A))typeof n=="function"?n(R.endpointDefinitions[l]):Object.assign(R.endpointDefinitions[l]||{},n);return x}},M=e.map(m=>m.init(x,d,R));function k(m){let A=m.endpoints({query:l=>({...l,type:"query"}),mutation:l=>({...l,type:"mutation"})});for(let[l,n]of Object.entries(A)){if(m.overrideExisting!==!0&&l in R.endpointDefinitions){if(m.overrideExisting==="throw")throw new Error((0,Le.formatProdErrorMessage)(39));typeof process<"u";continue}R.endpointDefinitions[l]=n;for(let t of M)t.injectEndpoint(l,n)}return x}return x.injectEndpoints({endpoints:c.endpoints})}}var He=require("@reduxjs/toolkit"),_e=Symbol();function ze(){return function(){throw new Error((0,He.formatProdErrorMessage)(33))}}var rt=require("immer");function L(e,...r){return Object.assign(e,...r)}var Ve=require("immer");var We=({api:e,queryThunk:r,internalState:c})=>{let T=`${e.reducerPath}/subscriptions`,d=null,R=null,{updateSubscriptionOptions:x,unsubscribeQueryResult:M}=e.internalActions,k=(t,g)=>{if(x.match(g)){let{queryCacheKey:p,requestId:y,options:a}=g.payload;return t?.[p]?.[y]&&(t[p][y]=a),!0}if(M.match(g)){let{queryCacheKey:p,requestId:y}=g.payload;return t[p]&&delete t[p][y],!0}if(e.internalActions.removeQueryResult.match(g))return delete t[g.payload.queryCacheKey],!0;if(r.pending.match(g)){let{meta:{arg:p,requestId:y}}=g,a=t[p.queryCacheKey]??={};return a[`${y}_running`]={},p.subscribe&&(a[y]=p.subscriptionOptions??a[y]??{}),!0}let S=!1;if(r.fulfilled.match(g)||r.rejected.match(g)){let p=t[g.meta.arg.queryCacheKey]||{},y=`${g.meta.requestId}_running`;S||=!!p[y],delete p[y]}if(r.rejected.match(g)){let{meta:{condition:p,arg:y,requestId:a}}=g;if(p&&y.subscribe){let s=t[y.queryCacheKey]??={};s[a]=y.subscriptionOptions??s[a]??{},S=!0}}return S},m=()=>c.currentSubscriptions,n={getSubscriptions:m,getSubscriptionCount:t=>{let S=m()[t]??{};return j(S)},isRequestSubscribed:(t,g)=>!!m()?.[t]?.[g]};return(t,g)=>{if(d||(d=JSON.parse(JSON.stringify(c.currentSubscriptions))),e.util.resetApiState.match(t))return d=c.currentSubscriptions={},R=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(t))return[!1,n];let S=k(c.currentSubscriptions,t),p=!0;if(S){R||(R=setTimeout(()=>{let s=JSON.parse(JSON.stringify(c.currentSubscriptions)),[,o]=(0,Ve.produceWithPatches)(d,()=>s);g.next(e.internalActions.subscriptionsUpdated(o)),d=s,R=null},500));let y=typeof t.type=="string"&&!!t.type.startsWith(T),a=r.rejected.match(t)&&t.meta.condition&&!!t.meta.arg.subscribe;p=!y&&!a}return[p,!1]}};function Qt(e){for(let r in e)return!1;return!0}var Rt=2147483647/1e3-1,$e=({reducerPath:e,api:r,queryThunk:c,context:T,internalState:d})=>{let{removeQueryResult:R,unsubscribeQueryResult:x}=r.internalActions,M=(0,i.isAnyOf)(x.match,c.fulfilled,c.rejected);function k(n){let t=d.currentSubscriptions[n];return!!t&&!Qt(t)}let m={},A=(n,t,g)=>{if(M(n)){let S=t.getState()[e],{queryCacheKey:p}=x.match(n)?n.payload:n.meta.arg;l(p,S.queries[p]?.endpointName,t,S.config)}if(r.util.resetApiState.match(n))for(let[S,p]of Object.entries(m))p&&clearTimeout(p),delete m[S];if(T.hasRehydrationInfo(n)){let S=t.getState()[e],{queries:p}=T.extractRehydrationInfo(n);for(let[y,a]of Object.entries(p))l(y,a?.endpointName,t,S.config)}};function l(n,t,g,S){let y=T.endpointDefinitions[t]?.keepUnusedDataFor??S.keepUnusedDataFor;if(y===1/0)return;let a=Math.max(0,Math.min(y,Rt));if(!k(n)){let s=m[n];s&&clearTimeout(s),m[n]=setTimeout(()=>{k(n)||g.dispatch(R({queryCacheKey:n})),delete m[n]},a*1e3)}}return A};var Je=new Error("Promise never resolved before cacheEntryRemoved."),Ge=({api:e,reducerPath:r,context:c,queryThunk:T,mutationThunk:d,internalState:R})=>{let x=(0,i.isAsyncThunkAction)(T),M=(0,i.isAsyncThunkAction)(d),k=(0,i.isFulfilled)(T,d),m={},A=(t,g,S)=>{let p=l(t);if(T.pending.match(t)){let y=S[r].queries[p],a=g.getState()[r].queries[p];!y&&a&&n(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId)}else if(d.pending.match(t))g.getState()[r].mutations[p]&&n(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId);else if(k(t)){let y=m[p];y?.valueResolved&&(y.valueResolved({data:t.payload,meta:t.meta.baseQueryMeta}),delete y.valueResolved)}else if(e.internalActions.removeQueryResult.match(t)||e.internalActions.removeMutationResult.match(t)){let y=m[p];y&&(delete m[p],y.cacheEntryRemoved())}else if(e.util.resetApiState.match(t))for(let[y,a]of Object.entries(m))delete m[y],a.cacheEntryRemoved()};function l(t){return x(t)?t.meta.arg.queryCacheKey:M(t)?t.meta.arg.fixedCacheKey??t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?z(t.payload):""}function n(t,g,S,p,y){let a=c.endpointDefinitions[t],s=a?.onCacheEntryAdded;if(!s)return;let o={},u=new Promise(B=>{o.cacheEntryRemoved=B}),h=Promise.race([new Promise(B=>{o.valueResolved=B}),u.then(()=>{throw Je})]);h.catch(()=>{}),m[S]=o;let f=e.endpoints[t].select(a.type==="query"?g:S),Q=p.dispatch((B,b,P)=>P),E={...p,getCacheEntry:()=>f(p.getState()),requestId:y,extra:Q,updateCachedData:a.type==="query"?B=>p.dispatch(e.util.updateQueryData(t,g,B)):void 0,cacheDataLoaded:h,cacheEntryRemoved:u},D=s(g,E);Promise.resolve(D).catch(B=>{if(B!==Je)throw B})}return A};var Ye=({api:e,context:{apiUid:r},reducerPath:c})=>(T,d)=>{e.util.resetApiState.match(T)&&d.dispatch(e.internalActions.middlewareRegistered(r)),typeof process<"u"};var Xe=({reducerPath:e,context:r,context:{endpointDefinitions:c},mutationThunk:T,queryThunk:d,api:R,assertTagType:x,refetchQuery:M,internalState:k})=>{let{removeQueryResult:m}=R.internalActions,A=(0,i.isAnyOf)((0,i.isFulfilled)(T),(0,i.isRejectedWithValue)(T)),l=(0,i.isAnyOf)((0,i.isFulfilled)(T,d),(0,i.isRejected)(T,d)),n=[],t=(p,y)=>{A(p)?S(ue(p,"invalidatesTags",c,x),y):l(p)?S([],y):R.util.invalidateTags.match(p)&&S(Y(p.payload,void 0,void 0,void 0,void 0,x),y)};function g(p){for(let y in p.queries)if(p.queries[y]?.status==="pending")return!0;for(let y in p.mutations)if(p.mutations[y]?.status==="pending")return!0;return!1}function S(p,y){let a=y.getState(),s=a[e];if(n.push(...p),s.config.invalidationBehavior==="delayed"&&g(s))return;let o=n;if(n=[],o.length===0)return;let u=R.util.selectInvalidatedBy(a,o);r.batch(()=>{let h=Array.from(u.values());for(let{queryCacheKey:f}of h){let Q=s.queries[f],E=k.currentSubscriptions[f]??{};Q&&(j(E)===0?y.dispatch(m({queryCacheKey:f})):Q.status!=="uninitialized"&&y.dispatch(M(Q,f)))}})}return t};var Ze=({reducerPath:e,queryThunk:r,api:c,refetchQuery:T,internalState:d})=>{let R={},x=(n,t)=>{(c.internalActions.updateSubscriptionOptions.match(n)||c.internalActions.unsubscribeQueryResult.match(n))&&k(n.payload,t),(r.pending.match(n)||r.rejected.match(n)&&n.meta.condition)&&k(n.meta.arg,t),(r.fulfilled.match(n)||r.rejected.match(n)&&!n.meta.condition)&&M(n.meta.arg,t),c.util.resetApiState.match(n)&&A()};function M({queryCacheKey:n},t){let g=t.getState()[e],S=g.queries[n],p=d.currentSubscriptions[n];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:a}=l(p);if(!Number.isFinite(y))return;let s=R[n];s?.timeout&&(clearTimeout(s.timeout),s.timeout=void 0);let o=Date.now()+y;R[n]={nextPollTimestamp:o,pollingInterval:y,timeout:setTimeout(()=>{(g.config.focused||!a)&&t.dispatch(T(S,n)),M({queryCacheKey:n},t)},y)}}function k({queryCacheKey:n},t){let S=t.getState()[e].queries[n],p=d.currentSubscriptions[n];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y}=l(p);if(!Number.isFinite(y)){m(n);return}let a=R[n],s=Date.now()+y;(!a||s<a.nextPollTimestamp)&&M({queryCacheKey:n},t)}function m(n){let t=R[n];t?.timeout&&clearTimeout(t.timeout),delete R[n]}function A(){for(let n of Object.keys(R))m(n)}function l(n={}){let t=!1,g=Number.POSITIVE_INFINITY;for(let S in n)n[S].pollingInterval&&(g=Math.min(n[S].pollingInterval,g),t=n[S].skipPollingIfUnfocused||t);return{lowestPollingInterval:g,skipPollingIfUnfocused:t}}return x};var et=({api:e,context:r,queryThunk:c,mutationThunk:T})=>{let d=(0,i.isPending)(c,T),R=(0,i.isRejected)(c,T),x=(0,i.isFulfilled)(c,T),M={};return(m,A)=>{if(d(m)){let{requestId:l,arg:{endpointName:n,originalArgs:t}}=m.meta,g=r.endpointDefinitions[n],S=g?.onQueryStarted;if(S){let p={},y=new Promise((u,h)=>{p.resolve=u,p.reject=h});y.catch(()=>{}),M[l]=p;let a=e.endpoints[n].select(g.type==="query"?t:l),s=A.dispatch((u,h,f)=>f),o={...A,getCacheEntry:()=>a(A.getState()),requestId:l,extra:s,updateCachedData:g.type==="query"?u=>A.dispatch(e.util.updateQueryData(n,t,u)):void 0,queryFulfilled:y};S(t,o)}}else if(x(m)){let{requestId:l,baseQueryMeta:n}=m.meta;M[l]?.resolve({data:m.payload,meta:n}),delete M[l]}else if(R(m)){let{requestId:l,rejectedWithValue:n,baseQueryMeta:t}=m.meta;M[l]?.reject({error:m.payload??m.error,isUnhandledError:!n,meta:t}),delete M[l]}}};var tt=({reducerPath:e,context:r,api:c,refetchQuery:T,internalState:d})=>{let{removeQueryResult:R}=c.internalActions,x=(k,m)=>{H.match(k)&&M(m,"refetchOnFocus"),_.match(k)&&M(m,"refetchOnReconnect")};function M(k,m){let A=k.getState()[e],l=A.queries,n=d.currentSubscriptions;r.batch(()=>{for(let t of Object.keys(n)){let g=l[t],S=n[t];if(!S||!g)continue;(Object.values(S).some(y=>y[m]===!0)||Object.values(S).every(y=>y[m]===void 0)&&A.config[m])&&(j(S)===0?k.dispatch(R({queryCacheKey:t})):g.status!=="uninitialized"&&k.dispatch(T(g,t)))}})}return x};function nt(e){let{reducerPath:r,queryThunk:c,api:T,context:d}=e,{apiUid:R}=d,x={invalidateTags:(0,i.createAction)(`${r}/invalidateTags`)},M=l=>l.type.startsWith(`${r}/`),k=[Ye,$e,Xe,Ze,Ge,et];return{middleware:l=>{let n=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:A,isThisApiSliceAction:M},S=k.map(a=>a(g)),p=We(g),y=tt(g);return a=>s=>{if(!(0,i.isAction)(s))return a(s);n||(n=!0,l.dispatch(T.internalActions.middlewareRegistered(R)));let o={...l,next:a},u=l.getState(),[h,f]=p(s,o,u),Q;if(h?Q=a(s):Q=f,l.getState()[r]&&(y(s,o,u),M(s)||d.hasRehydrationInfo(s)))for(let E of S)E(s,o,u);return Q}},actions:x};function A(l,n,t={}){return c({type:"query",endpointName:l.endpointName,originalArgs:l.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:n,...t})}}var re=Symbol(),pe=({createSelector:e=i.createSelector}={})=>({name:re,init(r,{baseQuery:c,tagTypes:T,reducerPath:d,serializeQueryArgs:R,keepUnusedDataFor:x,refetchOnMountOrArgChange:M,refetchOnFocus:k,refetchOnReconnect:m,invalidationBehavior:A},l){(0,rt.enablePatches)();let n=I=>(typeof process<"u",I);Object.assign(r,{reducerPath:d,endpoints:{},internalActions:{onOnline:_,onOffline:W,onFocus:H,onFocusLost:V},util:{}});let{queryThunk:t,mutationThunk:g,patchQueryData:S,updateQueryData:p,upsertQueryData:y,prefetch:a,buildMatchThunkActions:s}=we({baseQuery:c,reducerPath:d,context:l,api:r,serializeQueryArgs:R,assertTagType:n}),{reducer:o,actions:u}=Oe({context:l,queryThunk:t,mutationThunk:g,reducerPath:d,assertTagType:n,config:{refetchOnFocus:k,refetchOnReconnect:m,refetchOnMountOrArgChange:M,keepUnusedDataFor:x,reducerPath:d,invalidationBehavior:A}});L(r.util,{patchQueryData:S,updateQueryData:p,upsertQueryData:y,prefetch:a,resetApiState:u.resetApiState}),L(r.internalActions,u);let{middleware:h,actions:f}=nt({reducerPath:d,context:l,queryThunk:t,mutationThunk:g,api:r,assertTagType:n});L(r.util,f),L(r,{reducer:o,middleware:h});let{buildQuerySelector:Q,buildMutationSelector:E,selectInvalidatedBy:D,selectCachedArgsForQuery:B}=je({serializeQueryArgs:R,reducerPath:d,createSelector:e});L(r.util,{selectInvalidatedBy:D,selectCachedArgsForQuery:B});let{buildInitiateQuery:b,buildInitiateMutation:P,getRunningMutationThunk:v,getRunningMutationsThunk:F,getRunningQueriesThunk:O,getRunningQueryThunk:N}=ve({queryThunk:t,mutationThunk:g,api:r,serializeQueryArgs:R,context:l});return L(r.util,{getRunningMutationThunk:v,getRunningMutationsThunk:F,getRunningQueryThunk:N,getRunningQueriesThunk:O}),{name:re,injectEndpoint(I,K){let q=r;q.endpoints[I]??={},ae(K)?L(q.endpoints[I],{name:I,select:Q(I,K),initiate:b(I,K)},s(t,I)):Be(K)&&L(q.endpoints[I],{name:I,select:E(),initiate:P(I)},s(g,I))}}}});var it=de(pe());0&&(module.exports={QueryStatus,_NEVER,buildCreateApi,copyWithStructuralSharing,coreModule,coreModuleName,createApi,defaultSerializeQueryArgs,fakeBaseQuery,fetchBaseQuery,retry,setupListeners,skipToken});
//# sourceMappingURL=rtk-query.production.min.cjs.map